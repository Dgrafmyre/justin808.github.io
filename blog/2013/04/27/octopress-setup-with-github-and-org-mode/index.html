
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Octopress Setup with Github, Org-mode, and LiveReload - Rails on Maui</title>
  <meta name="author" content="Justin Gordon">

  
  <meta name="description" content="Installing Octopress with github hosting, org-mode markup, and Live-Reload">
  <meta name="keywords" content="octopress, github, org-mode">

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://justin808.github.io/blog/2013/04/27/octopress-setup-with-github-and-org-mode">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Rails on Maui" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Rails on Maui</a></h1>
  
    <h2>Programming in Paradise or Paradise in Programming?</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:justin808.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Octopress Setup With Github, Org-mode, and LiveReload</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-04-27T22:46:00-10:00" pubdate data-updated="true">Apr 27<span>th</span>, 2013</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>
by Justin Gordon
</p>


<p>
WordPress seemed like a good blogging platform, but it just didn&#8217;t feel right,
as I wanted to edit my blog posts in org-mode. So I bit the bullet, and dove
into Octopress. You&#8217;re looking at it! Here&#8217;s my perspectives on it. This article
should be useful for:
</p>


<ol>
<li>Anybody reading this near the date April 27, 2013, as any technical
     instructions seem to degrade in accuracy over time.
</li>
<li>Any interest in using org-mode to publish to Octopress including some
     reasons I use org-mode
</li>
<li>Some explanation of what Octopress and git are doing.
</li>
<li>How to use LiveReload with Octopress and org-mode
</li>
<li>Anybody curious about how using free github pages works to host Octopress. 
</li>
</ol>




<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1 Useful Links</a></li>
<li><a href="#sec-2">2 Basic setup</a></li>
<li><a href="#sec-3">3 POW</a></li>
<li><a href="#sec-4">4 LiveReload</a></li>
<li><a href="#sec-5">5 Org-mode Integration</a></li>
<li><a href="#sec-6">6 Directory Structure of Octopress and the master and source Git Branches</a></li>
<li><a href="#sec-7">7 Why org-mode for blog publishing?</a></li>
</ul>
</div>
</div>




<div id="outline-container-1" class="outline-2">
<h2 id="sec-1">Useful Links</h2>
<div class="outline-text-2" id="text-1">

<ol>
<li><a href="http://webdesign.tutsplus.com/tutorials/applications/getting-started-with-octopress/">Getting Started with Octopress</a>: Nice overall tutorial. Very current!
   March 2013.
</li>
<li><a href="#http-robdodson.me-blog-2012-04-30-custom-domain-with-octopress-and-github-pages">Rob Dodson on Octopress</a>: Most of the instructions I show below are from this
   posting on April 30th, 2012.
</li>
<li><a href="http://joelmccracken.github.io/entries/octopress-is-pretty-sweet/">Joel McCracken on Octopress</a>:
</li>
<li><a href="https://help.github.com/articles/setting-up-a-custom-domain-with-pages">Github directions on setting up a custom domain</a> 
</li>
<li><a href="http://code.dblock.org/octopress-setting-up-a-blog-and-contributing-to-an-existing-one">dblock.org Article on Octopress</a>: A good explanation from Jan 17, 2012,
   especially on the difference of the source and master branches.
</li>
<li><a href="http://blog.paphus.com/blog/2012/08/01/introducing-octopress-blogging-for-org-mode/">Introducing Octopress Blogging for Org-Mode</a>: For org-mode. See below.
</li>
<li><a href="http://hiltmon.com/blog/2013/04/17/18-months-of-octopress/">18 Months of Octopress</a>: Nice article on why Octopress was worth the switch.
</li>
<li><a href="http://odino.org/bash-aliases-for-octopress/">Shell Aliases for Octopress</a>: Save time with these shortcuts
</li>
</ol>


</div>

</div>




<div id="outline-container-2" class="outline-2">
<h2 id="sec-2">Basic setup</h2>
<div class="outline-text-2" id="text-2">

<ol>
<li><a href="#http-robdodson.me-blog-2012-04-30-custom-domain-with-octopress-and-github-pages">Rob Dodson on Octopress</a>: Start off with these instructions from this posting
   on April 30th, 2012. There are a few differences worth noting:
<ol>
<li>You may wish to change the .rvmrc to a .ruby-version file
</li>
<li>Github recommends your deployment repository be named <code>yourname.github.io</code>,
      not <code>yourname.github.com</code>.
</li>
<li>After you run <code>rake setup_github_pages</code> and before running <code>rake       generate</code>, you should run <code>rake install</code>. If you forget, there&#8217;s a clear
      message indicating this omission.
</li>
</ol>

</li>
<li>Customize <code>octopress/_config.yml</code>. The yaml file contains descriptions.
</li>
<li>Update the DNS to use your custom domain if you wish: <a href="https://help.github.com/articles/setting-up-a-custom-domain-with-pages">Github directions on setting up a custom domain</a>
</li>
<li>At this point, you can either create a post or a page:
</li>
</ol>



<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>  rake new_post<span class="o">[</span><span class="s2">&quot;my post name&quot;</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>


 


<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>  rake new_page<span class="o">[</span><span class="s2">&quot;my page name&quot;</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>



<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>  <span class="c"># same as generate and deploy</span>
</span><span class='line'>  rake gen_deploy
</span></code></pre></td></tr></table></div></figure>


 


<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>  <span class="c"># Watch the site and regenerate when it changes</span>
</span><span class='line'>  rake watch
</span></code></pre></td></tr></table></div></figure>


  


<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>  <span class="c"># preview the site in a web browser</span>
</span><span class='line'>  rake preview
</span></code></pre></td></tr></table></div></figure>


  


<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>  <span class="c"># See all the available rake options</span>
</span><span class='line'>  rake -T
</span></code></pre></td></tr></table></div></figure>



<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>  <span class="c"># Save changes to source branch</span>
</span><span class='line'>  git add .
</span><span class='line'>  git commit -m <span class="s2">&quot;save changes to source&quot;</span>
</span><span class='line'>  git push origin <span class="nb">source</span>
</span></code></pre></td></tr></table></div></figure>


</div>

</div>




<div id="outline-container-3" class="outline-2">
<h2 id="sec-3">POW</h2>
<div class="outline-text-2" id="text-3">

<p>Pow allows you to point your browser to <a href="http://octopress.dev">http://octopress.dev</a> to see your
Octopress website. Scroll to the bottom of this page for details on <a href="http://octopress.org/docs/blogging/">POW</a>. The
alternative to running POW is to run.

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>  rake preview
</span></code></pre></td></tr></table></div></figure>


</p></div>

</div>




<div id="outline-container-4" class="outline-2">
<h2 id="sec-4">LiveReload</h2>
<div class="outline-text-2" id="text-4">

<p>LiveReload is a browser extension for Chrome that will automatically refresh
the browser after you publish your file. You don&#8217;t need to buy the paid
product. I use the <a href="https://chrome.google.com/webstore/detail/livereload/jnihajbhpnppcggbcgedagnkighmdlei?hl=en">Chrome browser extension</a>. You can use this with or without
POW.
</p><ul>
<li><a href="http://feedback.livereload.com/knowledgebase/articles/86242-how-do-i-install-and-use-the-browser-extensions-">Install the browser extension</a> for your type of browser.
</li>
<li>Add these two entries to your <code>Gemfile</code>, in the :development group:
</li>
</ul>



<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'>   <span class="n">gem</span> <span class="s1">&#39;guard&#39;</span>
</span><span class='line'>   <span class="n">gem</span> <span class="s1">&#39;guard-livereload&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>Create a file called <code>Guardfile</code> containing something like:
</li>
</ul>



<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'>     <span class="n">guard</span> <span class="s1">&#39;livereload&#39;</span> <span class="k">do</span>
</span><span class='line'>       <span class="n">watch</span><span class="p">(</span><span class="sr">%r{public/generated}</span><span class="p">)</span>
</span><span class='line'>       <span class="n">watch</span><span class="p">(</span><span class="sr">%r{public/.+\.(css|js|html)}</span><span class="p">)</span>
</span><span class='line'>     <span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>Start 2 shell tabs running these commands: <code>rake generate &amp;&amp; rake watch</code>
   and <code>guard</code> 
</li>
</ul>



<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>     &gt; rake generate <span class="o">&amp;&amp;</span> rake watch
</span></code></pre></td></tr></table></div></figure>

<p>
   This screen shot shows <code>watch</code> updating the deployment files.
   <img src="2013-04-27-octopress-setup-with-github-and-org-mode/rake-generate-watch.png"  alt="2013-04-27-octopress-setup-with-github-and-org-mode/rake-generate-watch.png" />
   start guard LiveReload

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>     &gt; guard
</span></code></pre></td></tr></table></div></figure>

   This screen grab shows guard detecting the browser and telling the
   browser to update.
   <img src="2013-04-27-octopress-setup-with-github-and-org-mode/guard-console.png"  alt="2013-04-27-octopress-setup-with-github-and-org-mode/guard-console.png" />
</p>
<p>
It&#8217;s really worth the effort to get LiveReload working with Octopress.
</p>
<p>
It&#8217;s worth noting that if you&#8217;re running any other instance of guard-
LiveReload, then one of these two copies will win and one won&#8217;t work. If you
run a rails server this way, then this can bite you. It took me a bit of time
to figure out why guard wasn&#8217;t working.
</p>
</div>

</div>




<div id="outline-container-5" class="outline-2">
<h2 id="sec-5">Org-mode Integration</h2>
<div class="outline-text-2" id="text-5">

<p><a href="http://orgmode.org/">Org-mode</a> offers quite a bit more than plain markdown. It&#8217;s quite the <b>hacker&#8217;s delight</b> for note taking and authoring of blog articles. Down below I list a
few reasons why org-mode.
</p>
<ol>
<li>Follow the instructions here: <a href="http://blog.paphus.com/blog/2012/08/01/introducing-octopress-blogging-for-org-mode/">Introducing Octopress Blogging for Org-Mode</a>
</li>
<li>At the time of this article, April 27, there&#8217;s a bug with the latest
   org-mode. <a href="https://github.com/craftkiller/orgmode-octopress/issues/3">I posted a workaround.</a> By the time you read this, you probably
   won&#8217;t need that tip.
</li>
<li>Images work fine. My strategy for org-mode is to create a separate
   subdirectory for each org-mode document for images. That keeps the images
   attached to the original document. The above instructions work fine at
   publishing images.
</li>
</ol>



</div>

</div>




<div id="outline-container-6" class="outline-2">
<h2 id="sec-6">Directory Structure of Octopress and the master and source Git Branches</h2>
<div class="outline-text-2" id="text-6">

<p>I originally was quite confused by the concept of using two separate git
branches to make up what gets deployed on the live website versus the git
repository of my articles. Plus, there&#8217;s the issue of Octopress git repository
that you clone when starting out. Eventually, I figured out that the two branches
simply contain different files, with one containing the original Octopress
files. Here&#8217;s a few screen grabs that might clarify the situation for you.
</p>
<p>
The octopress/.gitignore file contains the following, which essentially keeps
the keeps the <code>rake generate</code> files out of the source branch.

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>.bundle
</span><span class='line'>.DS_Store
</span><span class='line'>.sass-cache
</span><span class='line'>.gist-cache
</span><span class='line'>.pygments-cache
</span><span class='line'>_deploy
</span><span class='line'>public
</span><span class='line'>sass.old
</span><span class='line'>source.old
</span><span class='line'><span class="nb">source</span>/_stash
</span><span class='line'><span class="nb">source</span>/stylesheets/screen.css
</span><span class='line'>vendor
</span><span class='line'>node_modules
</span></code></pre></td></tr></table></div></figure>


The <code>octopress/public</code> directory corresponds to what you&#8217;ll find on the github
site for your deployment (master branch).
<img src="2013-04-27-octopress-setup-with-github-and-org-mode/public-dir-corresponds-master-branch.png"  alt="2013-04-27-octopress-setup-with-github-and-org-mode/public-dir-corresponds-master-branch.png" />
</p>
<p>
Here&#8217;s the github master branch right after creation. Note the correspondence
with <code>public</code>. This is what gets deployed as your blog.
<img src="2013-04-27-octopress-setup-with-github-and-org-mode/github-master-branch.png"  alt="2013-04-27-octopress-setup-with-github-and-org-mode/github-master-branch.png" />
</p>

<p>
Here&#8217;s the github source branch. This contains the octopress environment, as
well as your customizations and blog posts.
<img src="2013-04-27-octopress-setup-with-github-and-org-mode/github-source-branch.png"  alt="2013-04-27-octopress-setup-with-github-and-org-mode/github-source-branch.png" />
</p>

</div>

</div>




<div id="outline-container-7" class="outline-2">
<h2 id="sec-7">Why org-mode for blog publishing?</h2>
<div class="outline-text-2" id="text-7">

<p>Here&#8217;s a few org-mode features I love (Some are Emacs ones):
</p><ol>
<li>All headers and list items can be reordered with minimal keystrokes (think
   super powerful outliner).
</li>
<li>Numbered lists
</li>
<li>Editable tables in text editor, with movable columns, movable rows
</li>
<li>Ergonomics of insertion of URLs and images.
</li>
<li>Includes the basics of markdown, such as source code blocks.
</li>
</ol>


</div>
</div>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Justin Gordon</span></span>

      








  


<time datetime="2013-04-27T22:46:00-10:00" pubdate data-updated="true">Apr 27<span>th</span>, 2013</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/octopress/'>Octopress</a>, <a class='category' href='/blog/categories/github/'>github</a>, <a class='category' href='/blog/categories/org-mode/'>org-mode</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://justin808.github.io/blog/2013/04/27/octopress-setup-with-github-and-org-mode/" data-via="railsonmaui" data-counturl="http://justin808.github.io/blog/2013/04/27/octopress-setup-with-github-and-org-mode/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/04/27/octopress-setup-with-github-and-org-mode/">Octopress Setup with Github, Org-mode, and LiveReload</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/justin808">@justin808</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'justin808',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>



<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/102850786590145072082?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Justin Gordon -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  






Included file 'twitter_sharing.html' not found in _includes directory



</body>
</html>
